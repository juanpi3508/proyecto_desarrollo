<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Koko Market | Catálogo</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/styles.css" rel="stylesheet" />

    <style>
        .card-img-top { object-fit: cover; height: 220px; }
        #statusMsg { display:none; }
    </style>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Agrega esto antes del navbar -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

</head>

<body class="d-flex flex-column min-vh-100">

<!-- NAVBAR -->
<!-- Barra de navegación -->
<div id="navbar-container"></div>

<!-- HEADER -->
<header class="bg-light py-5 text-center border-bottom">
    <div class="container">
        <h1 class="display-5 fw-bold mb-2">Bienvenido a KoKo Market</h1>
        <p class="lead text-muted mb-4">Encuentra los mejores productos al mejor precio</p>
    </div>
</header>

<!-- CATÁLOGO -->
<main class="container my-5" id="catalogo">
    <div class="d-flex flex-column flex-md-row gap-2 align-items-md-end align-items-stretch mb-4">
        <div class="flex-grow-1">
            <label for="q" class="form-label mb-1">Buscar</label>
            <input id="q" class="form-control" type="search" placeholder="Nombre, descripción, marca…" />
        </div>

        <div style="min-width: 220px;">
            <label for="cat" class="form-label mb-1">Categoría</label>
            <select id="cat" class="form-select">
                <option value="">Todas</option>
            </select>
        </div>

        <div style="min-width: 220px;">
            <label for="sort" class="form-label mb-1">Ordenar por</label>
            <select id="sort" class="form-select">
                <option value="relevance">Relevancia</option>
                <option value="price-asc">Precio: menor a mayor</option>
                <option value="price-desc">Precio: mayor a menor</option>
                <option value="name-asc">Nombre A→Z</option>
                <option value="name-desc">Nombre Z→A</option>
            </select>
        </div>
    </div>

    <div id="statusMsg" class="alert alert-info py-2">Cargando productos…</div>
    <div id="grid" class="row row-cols-2 row-cols-md-3 row-cols-xl-4 g-3"></div>
</main>

<!-- FOOTER -->
<footer class="bg-dark text-white py-4 mt-auto">
    <div class="container text-center small">
        <div class="mb-2">
            <a href="#" class="text-white text-decoration-none me-3">Política de Privacidad</a>
            <a href="#" class="text-white text-decoration-none me-3">Términos y Condiciones</a>
            <a href="#" class="text-white text-decoration-none">Contacto</a>
        </div>
        <div>&copy; 2025 KoKo Market - Todos los derechos reservados</div>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Scripts existentes -->
<script type="module" src="assets/js/models/cartModel.js"></script>
<script type="module" src="assets/js/views/cartView.js"></script>
<script type="module" src="assets/js/controllers/cartController.js"></script>

<script src="assets/js/navbar.js"></script>

<!-- MVC: Controlador del catálogo -->
<script type="module">
    import { initCatalogo } from "./assets/js/controllers/catalogoController.js";

    $(document).ready(() => {
        initCatalogo();
    });
</script>

<script src="assets/js/navbar.js"></script>
</body>
</html>
